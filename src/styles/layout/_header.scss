/* ==========================================================================
   HEADER LAYOUT
   ========================================================================== */

header {
  @include glassmorphic(0.15, 20px, 0.1);
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: $header-height;
  z-index: $z-fixed;
  border-bottom: 1px solid $border-light;

  nav {
    @include flex-between();
    max-width: $content-max-width;
    margin: 0 auto;
    padding: 0 $spacing-2xl;
    height: 100%;

    .logo {
      @include flex-center();
      gap: $spacing-md;
      
      .logo-icon {
        width: 32px;
        height: 32px;
        color: $color-primary;
      }
      
      span {
        font-family: $font-family-display;
        font-size: $font-size-xl;
        font-weight: $font-weight-bold;
        color: $text-primary;
        letter-spacing: -0.02em;
      }
    }

    .settings {
      ul {
        @include flex-center();
        gap: $spacing-sm;
        list-style: none;
        margin: 0;
        padding: 0;

        li {
          @include flex-center();
          width: 44px;
          height: 44px;
          border-radius: $radius-lg;
          transition: all $transition-normal;
          
          &:hover {
            background: rgba(0, 0, 0, 0.05);
          }

          &.settings__add {
            button {
              @include transparent-button();
              @include flex-center();
              width: 100%;
              height: 100%;
              font-size: $font-size-xl;
              font-weight: $font-weight-bold;
              color: $text-primary;
              border-radius: $radius-lg;
              transition: all $transition-slow;
              
              &:hover {
                color: $color-primary;
                background: rgba($color-primary, 0.1);
                transform: scale(1.1);
              }
            }
          }

          &.settings__darkmode {
            button {
              @include transparent-button();
              color: $text-primary;
              @include flex-center();
              width: 100%;
              height: 100%;
              border-radius: $radius-lg;
              transition: all $transition-slow;

              svg {
                width: 20px;
                height: 20px;
                transition: all $transition-slow;
              }
              
              &:hover {
                color: #FFD60A;
                
                svg {
                  transform: rotate(15deg);
                }
              }
            }
          }

          &.settings__user {
            display: flex;
            align-items: center;
            gap: $spacing-md;
            padding: $spacing-sm $spacing-md;
            border-radius: $radius-lg;
            background: rgba(0, 0, 0, 0.02);
            width: auto;

            .user-email {
              font-size: $font-size-sm;
              font-weight: $font-weight-medium;
              color: $text-secondary;
              max-width: 120px;
              @include truncate();
            }

            .logout-btn {
              @include transparent-button();
              color: rgba($color-error, 0.8);
              @include flex-center();
              width: 32px;
              height: 32px;
              border-radius: $radius-md;
              transition: all $transition-slow;

              svg {
                width: 16px;
                height: 16px;
              }

              &:hover {
                color: $color-error-dark;
                background: rgba($color-error, 0.1);
                transform: translateY(-1px);
              }
            }
          }
        }
      }
    }
  }
}

// Responsive adjustments
@include respond-to(md) {
  header nav {
    padding: 0 $spacing-lg;
  }
}

@media (max-width: $breakpoint-sm) {
  header nav {
    padding: 0 $spacing-md;
    
    .logo span {
      display: none;
    }
    
    .settings {
      ul {
        gap: $spacing-xs;
        
        li {
          width: 40px;
          height: 40px;
          
          &.settings__user {
            .user-email {
              display: none;
            }
          }
        }
      }
    }
  }
}